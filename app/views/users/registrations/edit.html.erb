<% provide(:title, 'Update profile') %>
<% provide(:button_text, 'Update') %>
<div class="container-fluid py-3">
  <div class="row">
    <div class="col-md-8 col-lg-6 col-sm-9 mx-auto">
      <%= form_for(
        resource, as: resource_name,
        url: registration_path(resource_name),
        html: { method: :put }
      ) do |f| %>
      <%= devise_error_messages! %>
      <fieldset>
        <div class="form-group">
          <%= f.text_field :name,
            id: :name,
            autofocus: true,
            class: "form-control input-lg",
            placeholder: 'Your name'
          %>
        </div>
        <div class="form-group">
          <%= f.email_field :email,
            id: :email,
            autocomplete: "email",
            class: "form-control input-lg",
            placeholder: 'name@domain.com'
          %>
        <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
          <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
        <% end %>
        </div>
        <div class="form-group">
          <%= f.password_field :password,
            id: :password,
            autocomplete: "off",
            class: "form-control input-lg",
            placeholder: 'Leave blank if you don\'t want to change'
          %>
        </div>
        <div class="form-group">
          <%= f.password_field :password_confirmation,
            id: :password_confirmation,
            autocomplete: "off",
            class: "form-control input-lg",
            placeholder: 'Password confirmation'
          %>
        </div>
        <div class="form-group">
          <%= f.password_field :current_password,
            id: :current_password,
            autocomplete: "off",
            class: "form-control input-lg",
            placeholder: 'Current password to proceed'
          %>
        </div>
        <%= f.submit yield(:button_text),
          class: "btn btn-lg btn-primary btn-block"
        %>
      </fieldset>
    <% end %>
    </div>
  </div>
</div>

